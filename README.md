# Телеграм-бот "Склад Тверь"

Бот для управления складом с функциями учета товаров и кассы.

[![GitHub](https://img.shields.io/badge/GitHub-Repository-blue)](https://github.com/RubeRoid-creat/skladtver_bot)

## Функции

1. **Добавление наименований товара** - создание новых товаров с указанием количества и цены
2. **Управление количеством товара** - изменение количества товара на складе
3. **Управление ценой товара** - изменение цены товара
4. **Продажа товара** - оформление продажи с автоматическим списанием и пополнением кассы
5. **Управление кассой** - пополнение, снятие средств, просмотр истории операций

## Установка

1. Клонируйте репозиторий или скачайте файлы

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example`:
```
BOT_TOKEN=your_telegram_bot_token_here
```

4. Получите токен бота у [@BotFather](https://t.me/BotFather) в Telegram

5. Запустите бота:
```bash
python bot.py
```

## Использование

После запуска бота отправьте команду `/start` в Telegram для открытия главного меню.

### Команды

- `/start` - Главное меню
- `/help` - Справка
- `/products` - Список всех товаров
- `/cashbox` - Баланс кассы

### Форматы ввода данных

- **Добавление товара**: `наименование товара , количество , цена`
  - Пример: `Молоко , 10 , 50.00`

- **Изменение количества**: `название | количество`
  - Пример: `Молоко | 15`

- **Изменение цены**: `название | цена`
  - Пример: `Молоко | 55.00`

- **Продажа товара**: `название | количество`
  - Пример: `Молоко | 5`

## База данных

Используется SQLite база данных `warehouse.db` с двумя таблицами:
- `products` - товары
- `cashbox` - операции кассы

## Развертывание на сервере

Подробные инструкции по развертыванию на сервере см. в файле [DEPLOY.md](DEPLOY.md)

### Быстрый старт с Docker

```bash
# Создайте файл .env с токеном бота
echo "BOT_TOKEN=your_token" > .env

# Запустите контейнер
docker-compose up -d
```

### Развертывание с systemd

1. Настройте файл `skladtver-bot.service`
2. Скопируйте его в `/etc/systemd/system/`
3. Запустите: `sudo systemctl start skladtver-bot`

## Структура проекта

```
skladtver_bot/
├── bot.py                  # Основной файл бота
├── database.py             # Модуль работы с БД
├── requirements.txt        # Зависимости
├── .env.example           # Пример конфигурации
├── .gitignore             # Игнорируемые файлы
├── README.md              # Документация
├── DEPLOY.md              # Инструкции по развертыванию
├── deploy.sh              # Скрипт для деплоя
├── skladtver-bot.service  # Systemd сервис
├── Dockerfile             # Docker образ
└── docker-compose.yml     # Docker Compose конфигурация
```

## Лицензия

Этот проект создан для внутреннего использования.

